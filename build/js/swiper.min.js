var Swiper;(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};(()=>{var e="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==e&&e,t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function u(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function f(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var n;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():i&&r&&(n=e)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i&&(ArrayBuffer.prototype.isPrototypeOf(e)||a(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=u(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?u(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(f)}),this.text=function(){var e,t,n,r=u(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=d(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=l(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[l(e)]},p.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},p.prototype.set=function(e,t){this.map[l(e)]=c(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;i.test(this.url)?this.url=this.url.replace(i,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];b.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})};var L=e.DOMException;try{new L}catch(e){(L=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),L.prototype.constructor=L}function E(t,n){return new Promise((function(o,s){var a=new v(t,n);if(a.signal&&a.signal.aborted)return s(new L("Aborted","AbortError"));var l=new XMLHttpRequest;function h(){l.abort()}l.onload=function(){var e,t,n={status:l.status,statusText:l.statusText,headers:(e=l.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t)};n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var r="response"in l?l.response:l.responseText;setTimeout((function(){o(new b(r,n))}),0)},l.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},l.onabort=function(){setTimeout((function(){s(new L("Aborted","AbortError"))}),0)},l.open(a.method,function(t){try{return""===t&&e.location.href?e.location.href:t}catch(e){return t}}(a.url),!0),"include"===a.credentials?l.withCredentials=!0:"omit"===a.credentials&&(l.withCredentials=!1),"responseType"in l&&(r?l.responseType="blob":i&&a.headers.get("Content-Type")&&-1!==a.headers.get("Content-Type").indexOf("application/octet-stream")&&(l.responseType="arraybuffer")),!n||"object"!=typeof n.headers||n.headers instanceof p?a.headers.forEach((function(e,t){l.setRequestHeader(t,e)})):Object.getOwnPropertyNames(n.headers).forEach((function(e){l.setRequestHeader(e,c(n.headers[e]))})),a.signal&&(a.signal.addEventListener("abort",h),l.onreadystatechange=function(){4===l.readyState&&a.signal.removeEventListener("abort",h)}),l.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=p,e.Request=v,e.Response=b)})(),(()=>{e.d(t,{default:()=>I});const n=Origo;var r=e.n(n);const o=function(){function e(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}(),i=function(){function e(){this.disposed=!1}return e.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();function s(){}var a="function"==typeof Object.assign?Object.assign:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])}return n};function l(e){for(var t in e)delete e[t]}"function"==typeof Object.values&&Object.values;var c,h=(c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const p=function(e){function t(t){var n=e.call(this)||this;return n.eventTarget_=t,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return h(t,e),t.prototype.addEventListener=function(e,t){if(e&&t){var n=this.listeners_||(this.listeners_={}),r=n[e]||(n[e]=[]);-1===r.indexOf(t)&&r.push(t)}},t.prototype.dispatchEvent=function(e){var t="string"==typeof e,n=t?e:e.type,r=this.listeners_&&this.listeners_[n];if(r){var i=t?new o(e):e;i.target||(i.target=this.eventTarget_||this);var a,l=this.dispatching_||(this.dispatching_={}),c=this.pendingRemovals_||(this.pendingRemovals_={});n in l||(l[n]=0,c[n]=0),++l[n];for(var h=0,p=r.length;h<p;++h)if(!1===(a="handleEvent"in r[h]?r[h].handleEvent(i):r[h].call(this,i))||i.propagationStopped){a=!1;break}if(0==--l[n]){var u=c[n];for(delete c[n];u--;)this.removeEventListener(n,s);delete l[n]}return a}},t.prototype.disposeInternal=function(){this.listeners_&&l(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)},t.prototype.removeEventListener=function(e,t){var n=this.listeners_&&this.listeners_[e];if(n){var r=n.indexOf(t);-1!==r&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[r]=s,++this.pendingRemovals_[e]):(n.splice(r,1),0===n.length&&delete this.listeners_[e]))}},t}(i);function u(e,t,n,r,o){if(r&&r!==e&&(n=n.bind(r)),o){var i=n;n=function(){e.removeEventListener(t,n),i.apply(this,arguments)}}var s={target:e,type:t,listener:n};return e.addEventListener(t,n),s}function d(e,t,n,r){return u(e,t,n,r,!0)}function f(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),l(e))}var y=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(e){function t(){var t=e.call(this)||this;return t.on=t.onInternal,t.once=t.onceInternal,t.un=t.unInternal,t.revision_=0,t}return y(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent("change")},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,t){if(Array.isArray(e)){for(var n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=u(this,e[o],t);return r}return u(this,e,t)},t.prototype.onceInternal=function(e,t){var n;if(Array.isArray(e)){var r=e.length;n=new Array(r);for(var o=0;o<r;++o)n[o]=d(this,e[o],t)}else n=d(this,e,t);return t.ol_key=n,n},t.prototype.unInternal=function(e,t){var n=t.ol_key;if(n)!function(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)f(e[t]);else f(e)}(n);else if(Array.isArray(e))for(var r=0,o=e.length;r<o;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)},t}(p);g.prototype.on,g.prototype.once,g.prototype.un;const m=g;var v=0,_=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.key=n,o.oldValue=r,o}return _(t,e),t}(o);const w=function(e){function t(t){var n,r=e.call(this)||this;return r.on,r.once,r.un,(n=r).ol_uid||(n.ol_uid=String(++v)),r.values_=null,void 0!==t&&r.setProperties(t),r}return _(t,e),t.prototype.get=function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&a({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,t){var n;n="change:".concat(e),this.hasListener(n)&&this.dispatchEvent(new b(n,e,t)),n="propertychange",this.hasListener(n)&&this.dispatchEvent(new b(n,e,t))},t.prototype.addChangeListener=function(e,t){this.addEventListener("change:".concat(e),t)},t.prototype.removeChangeListener=function(e,t){this.removeEventListener("change:".concat(e),t)},t.prototype.set=function(e,t,n){var r=this.values_||(this.values_={});if(n)r[e]=t;else{var o=r[e];r[e]=t,o!==t&&this.notify(e,o)}},t.prototype.setProperties=function(e,t){for(var n in e)this.set(n,e[n],t)},t.prototype.applyProperties=function(e){e.values_&&a(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,t){if(this.values_&&e in this.values_){var n=this.values_[e];delete this.values_[e],function(e){var t;for(t in e)return!1;return!t}(this.values_)&&(this.values_=null),t||this.notify(e,n)}},t}(m);function L(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}var E=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const S=function(e){function t(t){var n=e.call(this)||this,r=t.element;return!r||t.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],t.render&&(n.render=t.render),t.target&&n.setTarget(t.target),n}return E(t,e),t.prototype.disposeInternal=function(){L(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&L(this.element);for(var t=0,n=this.listenerKeys.length;t<n;++t)f(this.listenerKeys[t]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==s&&this.listenerKeys.push(u(e,"postrender",this.render,this)),e.render())},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},t}(w),T=class extends S{constructor(e){e=e||{};var t=document.createElement("div");super({element:t}),t.className=(e.className||"ol-swipe")+" ol-unselectable ol-control";var n=document.createElement("button");t.appendChild(n),t.addEventListener("mousedown",this.move.bind(this)),t.addEventListener("touchstart",this.move.bind(this)),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],e.layers&&this.addLayer(e.layers,!1),e.rightLayers&&this.addLayer(e.rightLayers,!0),this.on("propertychange",function(e){if(this.getMap())try{this.getMap().renderSync()}catch(e){}"horizontal"===this.get("orientation")?(this.element.style.top=100*this.get("position")+"%",this.element.style.left=""):("vertical"!==this.get("orientation")&&this.set("orientation","vertical"),this.element.style.left=100*this.get("position")+"%",this.element.style.top=""),"orientation"===e.key&&(this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))),this.isMoving||this.layers.forEach((function(e){e.layer.getImageRatio&&e.layer.changed()}))}.bind(this)),this.set("position",e.position||.5),this.set("orientation",e.orientation||"vertical")}setMap(e){var t,n;if(this.getMap()){for(t=0;t<this.layers.length;t++)(n=this.layers[t]).right?n.layer.un(["precompose","prerender"],this.precomposeRight_):n.layer.un(["precompose","prerender"],this.precomposeLeft_),n.layer.un(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch(e){}}if(super.setMap(e),e){for(this._listener=[],t=0;t<this.layers.length;t++)(n=this.layers[t]).right?n.layer.on(["precompose","prerender"],this.precomposeRight_):n.layer.on(["precompose","prerender"],this.precomposeLeft_),n.layer.on(["postcompose","postrender"],this.postcompose_);try{e.renderSync()}catch(e){}}}isLayer_(e){for(var t=0;t<this.layers.length;t++)if(this.layers[t].layer===e)return t;return-1}addLayer(e,t){e instanceof Array||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];if(this.isLayer_(r)<0&&(this.layers.push({layer:r,right:t}),this.getMap())){t?r.on(["precompose","prerender"],this.precomposeRight_):r.on(["precompose","prerender"],this.precomposeLeft_),r.on(["postcompose","postrender"],this.postcompose_);try{this.getMap().renderSync()}catch(e){}}}}removeLayers(){var e=[];this.layers.forEach((function(t){e.push(t.layer)})),this.removeLayer(e)}removeLayer(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){var n=this.isLayer_(e[t]);n>=0&&this.getMap()&&(this.layers[n].right?e[t].un(["precompose","prerender"],this.precomposeRight_):e[t].un(["precompose","prerender"],this.precomposeLeft_),e[t].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(n,1))}if(this.getMap())try{this.getMap().renderSync()}catch(e){}}getRectangle(){var e;return"vertical"===this.get("orientation")?[0,0,(e=this.getMap().getSize())[0]*this.get("position"),e[1]]:[0,0,(e=this.getMap().getSize())[0],e[1]*this.get("position")]}move(e){var t,n=this;switch(this._movefn||(this._movefn=this.move.bind(this)),e.type){case"touchcancel":case"touchend":case"mouseup":n.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach((function(e){document.removeEventListener(e,n._movefn)})),this.layers.forEach((function(e){e.layer.getImageRatio&&e.layer.changed()}));break;case"mousedown":case"touchstart":n.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach((function(e){document.addEventListener(e,n._movefn)}));case"mousemove":case"touchmove":if(n.isMoving)if("vertical"===n.get("orientation")){var r=e.pageX||e.touches&&e.touches.length&&e.touches[0].pageX||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageX;if(!r)break;r-=n.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft;var o=(t=n.getMap().getSize()[0])-Math.min(Math.max(0,t-r),t);t=o/t,n.set("position",t),n.dispatchEvent({type:"moving",size:[o,n.getMap().getSize()[1]],position:[t,0]})}else{var i=e.pageY||e.touches&&e.touches.length&&e.touches[0].pageY||e.changedTouches&&e.changedTouches.length&&e.changedTouches[0].pageY;if(!i)break;i-=n.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop;var s=(t=n.getMap().getSize()[1])-Math.min(Math.max(0,t-i),t);t=s/t,n.set("position",t),n.dispatchEvent({type:"moving",size:[n.getMap().getSize()[0],s],position:[0,t]})}}}_transformPt(e,t){var n=e.inversePixelTransform,r=t[0],o=t[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}_drawRect(e,t){var n=e.inversePixelTransform;if(n){var r=[[t[0][0],t[0][1]],[t[0][0],t[1][1]],[t[1][0],t[1][1]],[t[1][0],t[0][1]],[t[0][0],t[0][1]]];if(e.context.save(),e.target.getImageRatio){var o=-Math.atan2(e.frameState.pixelToCoordinateTransform[1],e.frameState.pixelToCoordinateTransform[0]);e.context.translate(e.frameState.size[0]/2,e.frameState.size[1]/2),e.context.rotate(o),e.context.translate(-e.frameState.size[0]/2,-e.frameState.size[1]/2)}r.forEach((function(t,r){t=[t[0]*n[0]-t[1]*n[1]+n[4],-t[0]*n[2]+t[1]*n[3]+n[5]],r?e.context.lineTo(t[0],t[1]):e.context.moveTo(t[0],t[1])})),e.context.restore()}else{var i=e.frameState.pixelRatio;e.context.rect(t[0][0]*i,t[0][1]*i,t[1][0]*i,t[1][1]*i)}}precomposeLeft(e){var t=e.context;if(t instanceof WebGLRenderingContext){if("prerender"===e.type){t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST);var n,r,o=this.getMap().getSize(),i=this._transformPt(e,[0,o[1]]),s=this._transformPt(e,[o[0],0]),a=s[0]-i[0],l=s[1]-i[1];"vertical"===this.get("orientation")?(n=Math.round(a*this.get("position")),r=l):(n=a,r=Math.round(l*this.get("position")),i[1]+=l-r),t.scissor(i[0],i[1],n,r)}}else{var c=e.frameState.size;t.save(),t.beginPath();var h=[[0,0],[c[0],c[1]]];"vertical"===this.get("orientation")?h[1]=[.5*c[0]+this.getMap().getSize()[0]*(this.get("position")-.5),c[1]]:h[1]=[c[0],.5*c[1]+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(e,h),t.clip()}}precomposeRight(e){var t=e.context;if(t instanceof WebGLRenderingContext){if("prerender"===e.type){t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST);var n,r,o=this.getMap().getSize(),i=this._transformPt(e,[0,o[1]]),s=this._transformPt(e,[o[0],0]),a=s[0]-i[0],l=s[1]-i[1];"vertical"===this.get("orientation")?(r=l,n=Math.round(a*(1-this.get("position"))),i[0]+=a-n):(n=a,r=Math.round(l*(1-this.get("position")))),t.scissor(i[0],i[1],n,r)}}else{var c=e.frameState.size;t.save(),t.beginPath();var h=[[0,0],[c[0],c[1]]];"vertical"===this.get("orientation")?h[0]=[.5*c[0]+this.getMap().getSize()[0]*(this.get("position")-.5),0]:h[0]=[0,.5*c[1]+this.getMap().getSize()[1]*(this.get("position")-.5)],this._drawRect(e,h),t.clip()}}postcompose(e){if(e.context instanceof WebGLRenderingContext){if("postrender"===e.type){var t=e.context;t.disable(t.SCISSOR_TEST)}}else e.target.getClassName&&"ol-layer"!==e.target.getClassName()&&e.target.get("declutter")?setTimeout((function(){e.context.restore()}),0):e.context.restore()}},O="active";var P=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const x=function(e){function t(t){var n=e.call(this)||this;return n.on,n.once,n.un,t&&t.handleEvent&&(n.handleEvent=t.handleEvent),n.map_=null,n.setActive(!0),n}return P(t,e),t.prototype.getActive=function(){return this.get(O)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set(O,e)},t.prototype.setMap=function(e){this.map_=e},t}(w);var M=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const A=function(e){function t(t){var n=this,r=t||{};return n=e.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.targetPointers=[],n}return M(t,e),t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if("pointerdrag"==e.type)this.handleDragEvent(e),e.originalEvent.preventDefault();else if("pointerup"==e.type){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if("pointerdown"==e.type){var r=this.handleDownEvent(e);this.handlingDownUpSequence=r,t=this.stopDown(r)}else"pointermove"==e.type&&this.handleMoveEvent(e);return!t},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){e.activePointers&&(this.targetPointers=e.activePointers)},t}(x),B=class extends A{constructor(e){super({handleDownEvent:function(e){return this._setPosition(e)},handleMoveEvent:function(e){return this._setPosition(e)}}),this.layers_=[],this.precomposeBind_=this.precompose_.bind(this),this.postcomposeBind_=this.postcompose_.bind(this),e=e||{},this.pos=!1,this.radius=e.radius||100,e.layers&&this.addLayer(e.layers),this.setActive(!0)}setMap(e){var t;if(this.getMap()){for(t=0;t<this.layers_.length;t++)this.layers_[t].un(["precompose","prerender"],this.precomposeBind_),this.layers_[t].un(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch(e){}}if(super.setMap(e),e){for(t=0;t<this.layers_.length;t++)this.layers_[t].on(["precompose","prerender"],this.precomposeBind_),this.layers_[t].on(["postcompose","postrender"],this.postcomposeBind_);try{e.renderSync()}catch(e){}}}setRadius(e){if(this.radius=e,this.getMap())try{this.getMap().renderSync()}catch(e){}}getRadius(){return this.radius}addLayer(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){if(this.getMap()){e[t].on(["precompose","prerender"],this.precomposeBind_),e[t].on(["postcompose","postrender"],this.postcomposeBind_);try{this.getMap().renderSync()}catch(e){}}this.layers_.push(e[t])}}removeLayers(){this.removeLayer(this.layers_)}removeLayer(e){e instanceof Array||(e=[e]);for(var t=0;t<e.length;t++){var n;for(n=0;n<this.layers_.length&&this.layers_[n]!==e[t];n++);n!=this.layers_.length&&this.getMap()&&(this.layers_[n].un(["precompose","prerender"],this.precomposeBind_),this.layers_[n].un(["postcompose","postrender"],this.postcomposeBind_),this.layers_.splice(n,1))}if(this.getMap())try{this.getMap().renderSync()}catch(e){}}setPosition(e){if(this.getMap()){this.pos=this.getMap().getPixelFromCoordinate(e);try{this.getMap().renderSync()}catch(e){}}}getPosition(){return this.pos?this.getMap().getCoordinateFromPixel(this.pos):null}setPixelPosition(e){if(this.pos=e,this.getMap())try{this.getMap().renderSync()}catch(e){}}getPixelPosition(){return this.pos}_setPosition(e){if(("pointermove"!==e.type||"onclick"!==this.get("action"))&&(e.pixel&&(this.pos=e.pixel),this.getMap()))try{this.getMap().renderSync()}catch(e){}}precompose_(e){if(this.getActive()){var t=e.context,n=e.frameState.pixelRatio;t.save(),t.beginPath();var r=[this.pos[0],this.pos[1]],o=this.radius,i=e.inversePixelTransform;i?o=(r=[r[0]*i[0]-r[1]*i[1]+i[4],-r[0]*i[2]+r[1]*i[3]+i[5]])[0]-((this.pos[0]-o)*i[0]-this.pos[1]*i[1]+i[4]):(r[0]*=n,r[1]*=n,o*=n),t.arc(r[0],r[1],o,0,2*Math.PI),t.clip()}}postcompose_(e){this.getActive()&&e.context.restore()}setActive(e){if(e!==this.getActive()&&(super.setActive(e),this.layers_)){var t;if(e)for(t=0;t<this.layers_.length;t++)this.layers_[t].on(["precompose","prerender"],this.precomposeBind_),this.layers_[t].on(["postcompose","postrender"],this.postcomposeBind_);else for(t=0;t<this.layers_.length;t++)this.layers_[t].un(["precompose","prerender"],this.precomposeBind_),this.layers_[t].un(["postcompose","postrender"],this.postcomposeBind_);if(this.getMap())try{this.getMap().renderSync()}catch(e){}}}};class C{constructor(e,t,n){this.layer=e,this.layerName=e.get("name"),this.right=t,this.left=n}getLayer(){return this.layer}getName(){return this.layerName}inUse(){return this.right||this.left}inSwiperUse(){return this.left}inRightSideUse(){return this.right}setAsShown(e=!0){this.left=e,this.right=!1}setAsShownOnRight(e=!0){this.right=e,this.left=!1}}const I=function({circleRadius:e=50,initialLayer:t=null,alwaysOnTop:n=!1,initialControl:o=null,backgroundGroup:i="background",showLayerListOnStart:s=!1,origoConfig:a=null,tooltips:l={swiper:"Swiper",swipeBetweenLayers:"Split view",circleSwipe:"Circle layer overlay",layerList:"Layer list"}}={}){let c,h,p,u,d,f,y,g,m,v,_,b,w={},L=!1,E=!1,S=!1,O=!1;const P=e,x=t||"",M=o,A=i,I=s,R=l.swiper,j=l.swipeBetweenLayers,U=l.circleSwipe,D=l.layerList,k=a;let z,V,N,F,H,$,q,G,X,Y;function K(){const e=Object.keys(w);let t=e.filter((e=>w[e].getLayer().get("visible")));if(t.length>0&&t.forEach((e=>{y=w[e].getLayer(),w[e].setAsShownOnRight(),console.log("right layer",y.get("name"))})),!f||w[f.get("name")].inUse()){let t=e.find((e=>!w[e].getLayer().get("visible")));f=w[t].getLayer(),w[t].setAsShown(),console.log("left layer",f.get("name"))}}function W(e){n||c.getLayers().filter((e=>!e.get("isSwiperLayer")&&!e.get("isUnderSwiper"))).forEach((t=>{t.setZIndex(e)}))}function J(){if(!m)return;const e="swiperLabel",t=function(){let e=c.getLayers().filter((e=>e.get("visible")&&(e.get("isUnderSwiper")||e.get("isSwiperLayer")&&!e.get("name").endsWith("__swiper"))));return e[e.length-1]}();let n=document.getElementById(e);n||(n=document.createElement("span"));const r=f?f.get("title"):"",o=t?t.get("title"):"",i=f?f.get("name").split("__")[0]:"",s=t?t.get("name").split("__")[0]:"";n.setAttribute("id",e),n.setAttribute("label-left",r),n.setAttribute("label-right",o),d&&n.classList.add("mobile"),n.classList.add("label"),n.classList.remove("warn"),i===s&&n.classList.add("warn"),m.element.appendChild(n)}function Q(){let e=!0;m?e=!1:m=new T({orientation:d?"horizontal":"vertical"}),h.addControl(m),e&&(K(),y&&m.addLayer(y,!0),ee(m,f)),J(),ie(!0),H.resetLayerList(w)}function Z(){K(),console.log("cirle - layer",f.get("name")),v=new B({radius:P||100}),ee(v,f),h.addInteraction(v),se(!0),H.resetLayerList(w)}function ee(e,t,n=!0){if(!e)return;re(),"GROUP"==t.get("type")&&t.get("layers").forEach((t=>{n?(e.removeLayer(t),e.addLayer(t)):e.removeLayer(t),t.setVisible(n)}));const r=t.get("name");n?(e.removeLayer(t),e.addLayer(t)):e.removeLayer(t),t.setVisible(n),w[r].setAsShown(n),oe(),console.log(r,"visibility",n)}function te(){m&&(h.removeControl(m),ie(!1),ee(m,f,!1),m=null,console.info("disabling swiper"))}function ne(){v&&(h.removeInteraction(v),se(!1),ee(v,f,!1),v=null,console.info("disabling circle"))}function re(){L=!0}function oe(){L=!1}function ie(e){e?G.classList.add("active"):G.classList.remove("active"),S=e}function se(e){e?X.classList.add("active"):X.classList.remove("active"),O=e}function ae(e){let t=f;if(w[e].inUse())return console.log("the layer ",e,"is in use"),!1;const n=w[e].getLayer();f=n,console.log("new left side - layer:",w[e].getName());const r=m||v;return ee(r,f),t&&(console.log("removing left side - layer",t.get("name")),ee(r,t,!1)),console.log("resetSwiperLayer - end"),!0}function le(e,t){const n=w[e];if(n&&!t){if(n.setAsShown(!1),null!=Object.keys(w).find((e=>w[e].inRightSideUse())))return}else if(console.log("layer triggered but in a SwiperLayer",e,t),!function(e,t){if(t)return!1;const n=c.getLayersByProperty("id",e);if(!n.length)return!1;const r=A;return n[0].get("group")!=r?(console.log("not background group"),!1):2!=Object.keys(w).filter((e=>w[e].inUse())).length&&2!=c.getLayersByProperty("group",r).length}(e,t))return console.log("it does not compromise the existing swiper layers"),void(n&&(t?(n.setAsShownOnRight(!0),m.addLayer(n.getLayer(),!0)):(n.setAsShownOnRight(!1),m.removeLayer(n.getLayer()))));const r=Object.keys(w).find((t=>t!=e&&w[t].inUse()));console.log("layer in use:",r);const o=w[r].getLayer();ne(),te(),re(),o.setVisible(!1),o.setVisible(!0),oe(),ue()}let ce=null,he=[];function pe(e){if(J(),L)return;const t=e.target.get("name"),n=!e.oldValue;console.log(t,"visibility:",n,new Date),he.push({layerId:t,currentVisibility:n}),ce&&clearTimeout(ce),ce=setTimeout((()=>{console.log("got all",he.length,"changes"),function(e){if(!e||!e.length)return void log.console("why is the affectedVisibleLayers array empty?");if(1==e.length){const t=e.pop();return void le(t.layerId,t.currentVisibility)}const t=e[0].currentVisibility,n=e.reduce(((e,n)=>t?e&&n:e||n),t);if(t==n&&e.forEach((e=>{le(e.layerId,e.currentVisibility)})),2==e.length){var r=e.pop(),o=e.pop();i=r.layerId,s=r.currentVisibility,a=o.layerId,l=o.currentVisibility,w[i]&&(w[i].setAsShownOnRight(s),m&&(s?m.addLayer(w[i].getLayer(),!0):m.removeLayer(w[i].getLayer()))),w[a]&&(w[a].setAsShownOnRight(l),m&&(l?m.addLayer(w[a].getLayer(),!0):m.removeLayer(w[a].getLayer()))),H.resetLayerList(w)}var i,s,a,l;e.forEach((e=>{le(e.layerId,e.currentVisibility)}))}(he),he=[],ce=null}),100)}function ue(){W(0),ne(),te(),q.classList.remove("active"),G.classList.add("hidden"),d||X.classList.add("hidden"),Y.classList.add("hidden"),H.setSwiperLegendVisible(!1),Object.keys(w).forEach((e=>{w[e].getLayer().un("change:visible",pe)})),b.forEach((e=>{e.un("change:visible",pe)})),E=!1}return r().ui.Component({name:"swiper",onInit(){d=function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent))return!0}(),function(){const e=document.createElement("div");e.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n      <symbol id="mui-compare" viewBox="0 0 24 24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M10 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h5v2h2V1h-2v2zm0 15H5l5-6v6zm9-15h-5v2h5v13l-5-6v9h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>\n      </symbol>\n      \n      <symbol id="mui-circle" viewBox="0 0 24 24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"/>\n      </symbol>\n      \n      <symbol id="mui-swap-vertical" viewBox="0 0 24 24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"/>\n      </symbol>\n      \n      <symbol id="mui-swap-horizontal" viewBox="0 0 24 24">\n        <path d="M0 0h24v24H0z" fill="none"/>\n        <path d="M6.99 11L3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"/>\n      </symbol>\n    </svg>\n    ',document.body.insertBefore(e,document.body.childNodes[0])}(),z=r().ui.Button({cls:"o-measure padding-small margin-bottom-smaller icon-smaller round light box-shadow no-round-icon swiper-tool-button",click(){if(E)ue();else{let e="https://karta.hallstahammar.se/fmejobsubmitter/Script/tracker%20interaction.fmw?";if(e+=`username=${localStorage.getItem("username")}`,e+="&obj=Swiper",e+="&DestDataset_POSTGRES=PostgreSQL%20geodata&opt_showresult=false&opt_servicemode=sync&token=46b87662b6a67111c1386a1d37e03d01e394a3b1",fetch(e,{method:"POST",headers:{"Content-Type":"application/xml; charset=UTF-8"}}),Object.keys(w).forEach((e=>{w[e].getLayer().on("change:visible",pe)})),b||(b=function(e){return _=e.getLayers().filter((e=>!e.get("name").endsWith("__swiper"))),_}(c)),b.forEach((e=>{e.on("change:visible",pe)})),q.classList.add("active"),G.classList.remove("hidden"),d||X.classList.remove("hidden"),Y.classList.remove("hidden"),M){const e=M.toLowerCase();"swipe"===e&&Q(),"clip"===e&&Z()}E=!0,W(10),H.setSwiperLegendVisible(I)}},icon:"#mui-compare",tooltipText:R,tooltipPlacement:"east"}),V=r().ui.Button({cls:"o-measure padding-small margin-bottom-smaller icon-smaller round light box-shadow hidden swiper-button",click(){ne(),S||Q()},icon:d?"#mui-swap-vertical":"#mui-swap-horizontal",tooltipText:j,tooltipPlacement:"east"}),d||(N=r().ui.Button({cls:"o-measure padding-small margin-bottom-smaller icon-smaller round light box-shadow hidden",click(){te(),O||Z()},icon:"#mui-circle",tooltipText:U,tooltipPlacement:"east"})),H=function(e={showLayer:()=>{console.log("showLayer not defined")}}){let t,n,o,i,s,a=!1;const l="#ic_check_circle_24px",c="#ic_radio_button_unchecked_24px";function h(e){a=e,a?o.classList.remove("hidden"):o.classList.add("hidden")}function p(e){u(e)}function u(t){s.textContent="",Object.keys(t).forEach((n=>{const o=t[n],i=document.createElement("li");i.id=n,i.className="legend-list-item "+(o.inUse()?"disabled":"");const a=o.inSwiperUse(),h=r().ui.Icon({icon:(u=a,u?l:c),cls:"round small icon-smaller no-shrink checked-icon",style:"",title:""});var u;const d=r().ui.Element({cls:"text-smaller padding-x-small grow pointer no-select overflow-hidden",innerHTML:o.getLayer().get("title")});i.innerHTML=`${d.render()} ${h.render()}`,s.appendChild(i),i.addEventListener("click",(()=>{e.showLayer(n)&&p(t)}))}))}return r().ui.Component({name:"swiperLegend",onInit(){},onAdd(e){let r=e.target;n="ontouchstart"in document.documentElement,t=`${r.getMain().getId()}`},render(e){o=document.createElement("div"),o.className="legend-layer-container",o.classList.add("legend-layer-container","hidden"),o.id="legendLayerContainer",document.getElementById(t).appendChild(o),s=document.createElement("ul"),s.className="legend-list",i=document.createElement("div"),i.className="legend-layer-header",i.innerHTML="Lager",i.id=`${o.id}-draggable`;const n=document.createElement("div");n.className="legend-close-button",n.addEventListener("click",(()=>{h(!1)})),i.appendChild(n),o.appendChild(i),o.appendChild(s),function(e){const t=e;let n=0,r=0,o=0,i=0;function s(e){e.preventDefault(),n=o-e.clientX,r=i-e.clientY,o=e.clientX,i=e.clientY,t.style.top=t.offsetTop-r+"px",t.style.left=t.offsetLeft-n+"px"}function a(){document.onmouseup=null,document.onmousemove=null,document.ontouchend=null}function l(e){e.preventDefault(),o=e.clientX,i=e.clientY,document.onmouseup=a,document.onmousemove=s,document.ontouchstart=a,document.ontouchmove=s}document.getElementById(`${t.id}-draggable`)?document.getElementById(`${t.id}-draggable`).onmousedown=l:t.onmousedown=l}(o),u(e),this.dispatch("render")},setSwiperLegendVisible:h,resetLayerList:p,isVisible:function(){return a}})}({showLayer:ae}),F=r().ui.Button({cls:"o-measure padding-small margin-bottom-smaller icon-smaller round light box-shadow hidden",click(){H.setSwiperLegendVisible(!H.isVisible())},icon:"#ic_layers_24px",tooltipText:D,tooltipPlacement:"east"}),g=r().ui.Element({tagName:"div",cls:"flex column"})},onAdd(e){c=e.target,h=c.getMap();let t=Promise.resolve();k&&(t=function(e,t){const n=e,r=t;return function(){let t=window.location.href.split("intern")[0]+"\\"+r;if(window.location.hash){const n=e.permalink.parsePermalink(window.location.href);n.map&&(t=`${n.map}.json`)}return new URLSearchParams(window.location.search).has("mapStateId")&&(t=location.origin.concat(location.pathname).concat(r)),fetch(t,{dataType:"json"}).then((e=>e.text())).then((e=>{const t=function(e){const t=e.split("");let n=0;const r=t.length-1;for(;n<r;){if('"'===t[n])for(n+=1;'"'!==t[n]&&n<r;)"\\"===t[n]&&(n+=1),n+=1;else if("/"===t[n]&&"/"===t[n+1])for(t[n]=" ",t[n+1]=" ",n+=2;"\n"!==t[n]&&"\r"!==t[n]&&n<=r;)t[n]=" ",n+=1;else if("/"===t[n]&&"*"===t[n+1]){for(t[n]=" ",t[n+1]=" ",n+=2;("*"!==t[n]||"/"!==t[n+1])&&n<=r;)"\n"!==t[n]&&"\r"!==t[n]&&(t[n]=" "),n+=1;t[n]=" ",t[n+1]=" ",n+=1}n+=1}return t.join("")}(e);let r;try{r=JSON.parse(t)}catch(n){const r=parseInt(n.message.split(" ").pop(),10);if(r){const o=t.substring(0,r).match(/^/gm).length;throw Error(`${n.message}\non row : ${o}\nSomewhere around:\n${e.substring(r-100,r+100)}`)}throw n}const o=r.layers.filter((e=>e.isSwiperLayer));return o.forEach((e=>{e.name+="__swiper",e.visible=!1,e.group="none","GROUP"===e.type&&e.layers.forEach((e=>{e.name+="__swiper",e.visible=!1}))})),n.addLayers(o),o}))}()}(c,k)),t.then((e=>{if(!function(e){const t=function(e){return _=e.getLayers().filter((e=>e.get("isSwiperLayer")&&e.get("name").endsWith("__swiper"))),_}(e);return!(t.length<=0||(console.log("Swiper defined layers",t.length,t.map((e=>e.get("name")))),function(e){e.forEach((e=>{const t=e.get("name");w[t]=new C(e,!1,!1),t.replace("__swiper","").toLowerCase()===x.toLowerCase()&&(console.log("default layer set:",x),f=e)}))}(t),0))}(c))return void console.log("No swiper layers defined. Tool will not be added to the map.");u="ontouchstart"in document.documentElement,p=`${c.getMain().getMapTools().getId()}`;let t=[z,V];d||t.push(N),t.push(F),this.addComponents(t),c.addComponent(H),this.render()}))},render(){const e=r().ui.dom.html(g.render());document.getElementById(p).appendChild(e),$=document.getElementById(g.getId());const t=r().ui.dom.html(z.render());$.appendChild(t),q=document.getElementById(z.getId());const n=r().ui.dom.html(V.render());if($.appendChild(n),G=document.getElementById(V.getId()),!d){const e=r().ui.dom.html(N.render());$.appendChild(e),X=document.getElementById(N.getId())}const o=r().ui.dom.html(F.render());$.appendChild(o),Y=document.getElementById(F.getId()),F.dispatch("render"),H.render(w),this.dispatch("render")}})}})(),Swiper=t.default})();